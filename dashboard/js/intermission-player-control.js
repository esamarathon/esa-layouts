(()=>{var e,t={8138:e=>{var t=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var t,r,o;try{t=Map}catch(e){t=function(){}}try{r=Set}catch(e){r=function(){}}try{o=Promise}catch(e){o=function(){}}function n(i,l,a,c,d){"object"==typeof l&&(a=l.depth,c=l.prototype,d=l.includeNonEnumerable,l=l.circular);var u=[],p=[],f="undefined"!=typeof Buffer;return void 0===l&&(l=!0),void 0===a&&(a=1/0),function i(a,v){if(null===a)return null;if(0===v)return a;var y,h;if("object"!=typeof a)return a;if(e(a,t))y=new t;else if(e(a,r))y=new r;else if(e(a,o))y=new o((function(e,t){a.then((function(t){e(i(t,v-1))}),(function(e){t(i(e,v-1))}))}));else if(n.__isArray(a))y=[];else if(n.__isRegExp(a))y=new RegExp(a.source,s(a)),a.lastIndex&&(y.lastIndex=a.lastIndex);else if(n.__isDate(a))y=new Date(a.getTime());else{if(f&&Buffer.isBuffer(a))return y=Buffer.allocUnsafe?Buffer.allocUnsafe(a.length):new Buffer(a.length),a.copy(y),y;e(a,Error)?y=Object.create(a):void 0===c?(h=Object.getPrototypeOf(a),y=Object.create(h)):(y=Object.create(c),h=c)}if(l){var m=u.indexOf(a);if(-1!=m)return p[m];u.push(a),p.push(y)}for(var g in e(a,t)&&a.forEach((function(e,t){var r=i(t,v-1),o=i(e,v-1);y.set(r,o)})),e(a,r)&&a.forEach((function(e){var t=i(e,v-1);y.add(t)})),a){var _;h&&(_=Object.getOwnPropertyDescriptor(h,g)),_&&null==_.set||(y[g]=i(a[g],v-1))}if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(a);for(g=0;g<b.length;g++){var P=b[g];(!(x=Object.getOwnPropertyDescriptor(a,P))||x.enumerable||d)&&(y[P]=i(a[P],v-1),x.enumerable||Object.defineProperty(y,P,{enumerable:!1}))}}if(d){var w=Object.getOwnPropertyNames(a);for(g=0;g<w.length;g++){var x,O=w[g];(x=Object.getOwnPropertyDescriptor(a,O))&&x.enumerable||(y[O]=i(a[O],v-1),Object.defineProperty(y,O,{enumerable:!1}))}}return y}(i,a)}function i(e){return Object.prototype.toString.call(e)}function s(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return n.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},n.__objToStr=i,n.__isDate=function(e){return"object"==typeof e&&"[object Date]"===i(e)},n.__isArray=function(e){return"object"==typeof e&&"[object Array]"===i(e)},n.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===i(e)},n.__getRegExpFlags=s,n}();e.exports&&(e.exports=t)},6865:(e,t,r)=>{"use strict";var o=r(5803),n=r(3687),i=r(936),s=r(6255),l=r(7019),a=r(8217),c=r(5925);r(4807),r(7023),r(5654),r(779),r(8793);var d=r(5612),u=r(8586),p=y("computed",u.rn),f=(y("computed",u.Se),y("methods",u.nv)),v=y("methods",u.OI);function y(e,t){function r(r,o){return(0,c.createDecorator)((function(n,i){n[e]||(n[e]={});var s,l=((s={})[i]=r,s);n[e][i]=void 0!==o?t(o,l)[i]:t(l)[i]}))}return function(e,t){if("string"==typeof t){var o=t,n=e;return r(o,void 0)(n,o)}return r(e,function(e){var t=e&&e.namespace;if("string"==typeof t)return"/"!==t[t.length-1]?t+"/":t}(t))}}var h=r(9500),m=r(9018),g=function(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let _=class extends o.ZP{constructor(){super(...arguments),this.searchTerm=null}get filteredVideos(){return this.videos.filter((e=>{const t=this.searchTerm?this.searchTerm.toLowerCase():"";return!t||t&&e.name.toLowerCase().includes(t)})).map((e=>[this.playCount(e.sum),e])).sort().map((e=>e[1]))}playCount(e){return this.videoPlayer.plays[e]||0}};g([p],_.prototype,"videos",void 0),g([p],_.prototype,"videoPlayer",void 0),g([v],_.prototype,"playlistAdd",void 0),_=g([c.default],_);const b=_;var P=r(5440);const w=(0,P.Z)(b,(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",[t(m.qW,[e._v("\n    Available Videos\n  ")]),e._v(" "),t("div",{style:{"margin-top":"10px"}},[e.videos.length?[t(h.Z,{attrs:{filled:"",clearable:"",label:"Search...","append-icon":"mdi-magnify",messages:`\n          ${e.filteredVideos.length} video${1===e.filteredVideos.length?"":"s"} found.\n        `},model:{value:e.searchTerm,callback:function(t){e.searchTerm=t},expression:"searchTerm"}}),e._v(" "),t("div",{style:{height:"250px","overflow-y":"scroll","overflow-x":"hidden",margin:0,padding:"10px"}},e._l(e.filteredVideos,(function(r){return t("div",{key:r.sum,staticClass:"d-flex align-center",style:{margin:"5px","margin-left":0},attrs:{value:r.sum}},[t("div",{staticClass:"d-flex align-center",style:{"margin-right":"10px"}},[t(s.Z,{style:{"margin-right":"10px"},attrs:{icon:"",outlined:"",small:""},on:{click:function(t){return e.playlistAdd({sum:r.sum,commercial:!0})}}},[t(l.Z,{attrs:{small:""}},[e._v("\n                mdi-playlist-plus\n              ")])],1),e._v(" "),t(l.Z,[e._v("\n              mdi-play\n            ")]),e._v(" "),t("div",{style:{width:"25px","text-align":"center"}},[e._v("\n              "+e._s(e.playCount(r.sum))+"\n            ")])],1),e._v(" "),t("div",{attrs:{title:r.name}},[e._v("\n            "+e._s(r.name)+"\n          ")])])})),0)]:t("span",{style:{"font-style":"italic"}},[e._v('\n      Add videos under "Assets" > "esa-layouts" > "Videos".\n    ')])],2)],1)}),[],!1,null,null,null).exports;var x=r(690);const O=s.Z;var C=r(5095),j=r(9085),Z=r(9405);const R=o.ZP.extend({name:"transitionable",props:{mode:String,origin:String,transition:String}});var S=r(6248),k=r(8298);const $=(0,S.Z)(x.Z,j.Z,R).extend({name:"v-alert",props:{border:{type:String,validator:e=>["top","right","bottom","left"].includes(e)},closeLabel:{type:String,default:"$vuetify.close"},coloredBorder:Boolean,dense:Boolean,dismissible:Boolean,closeIcon:{type:String,default:"$cancel"},icon:{default:"",type:[Boolean,String],validator:e=>"string"==typeof e||!1===e},outlined:Boolean,prominent:Boolean,text:Boolean,type:{type:String,validator:e=>["info","error","success","warning"].includes(e)},value:{type:Boolean,default:!0}},computed:{__cachedBorder(){if(!this.border)return null;let e={staticClass:"v-alert__border",class:{[`v-alert__border--${this.border}`]:!0}};return this.coloredBorder&&(e=this.setBackgroundColor(this.computedColor,e),e.class["v-alert__border--has-color"]=!0),this.$createElement("div",e)},__cachedDismissible(){if(!this.dismissible)return null;const e=this.iconColor;return this.$createElement(O,{staticClass:"v-alert__dismissible",props:{color:e,icon:!0,small:!0},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:()=>this.isActive=!1}},[this.$createElement(C.Z,{props:{color:e}},this.closeIcon)])},__cachedIcon(){return this.computedIcon?this.$createElement(C.Z,{staticClass:"v-alert__icon",props:{color:this.iconColor}},this.computedIcon):null},classes(){const e={...x.Z.options.computed.classes.call(this),"v-alert--border":Boolean(this.border),"v-alert--dense":this.dense,"v-alert--outlined":this.outlined,"v-alert--prominent":this.prominent,"v-alert--text":this.text};return this.border&&(e[`v-alert--border-${this.border}`]=!0),e},computedColor(){return this.color||this.type},computedIcon(){return!1!==this.icon&&("string"==typeof this.icon&&this.icon?this.icon:!!["error","info","success","warning"].includes(this.type)&&`$${this.type}`)},hasColoredIcon(){return this.hasText||Boolean(this.border)&&this.coloredBorder},hasText(){return this.text||this.outlined},iconColor(){return this.hasColoredIcon?this.computedColor:void 0},isDark(){return!(!this.type||this.coloredBorder||this.outlined)||Z.Z.options.computed.isDark.call(this)}},created(){this.$attrs.hasOwnProperty("outline")&&(0,k.fK)("outline","outlined",this)},methods:{genWrapper(){const e=[this.$slots.prepend||this.__cachedIcon,this.genContent(),this.__cachedBorder,this.$slots.append,this.$scopedSlots.close?this.$scopedSlots.close({toggle:this.toggle}):this.__cachedDismissible];return this.$createElement("div",{staticClass:"v-alert__wrapper"},e)},genContent(){return this.$createElement("div",{staticClass:"v-alert__content"},this.$slots.default)},genAlert(){let e={staticClass:"v-alert",attrs:{role:"alert"},on:this.listeners$,class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]};return this.coloredBorder||(e=(this.hasText?this.setTextColor:this.setBackgroundColor)(this.computedColor,e)),this.$createElement("div",e,[this.genWrapper()])},toggle(){this.isActive=!this.isActive}},render(e){const t=this.genAlert();return this.transition?e("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[t]):t}});var E=r(4048),B=r.n(E),A=r(5043),T=r(8821);let D=class extends o.ZP{};D=function(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}([c.default],D);const I=D,N=(0,P.Z)(I,(function(){var e=this,t=e._self._c;return e._self._setupProxy,t(T.Z,{style:{"text-align":"center",padding:"5px","margin-top":"10px","white-space":"nowrap",overflow:"hidden"}},[e._t("default")],2)}),[],!1,null,null,null).exports;var V=function(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let L=class extends o.ZP{getName(e){var t;return null===(t=this.videos.find((t=>t.sum===e)))||void 0===t?void 0:t.name}onVideoPlayerChange(){this.localEdits||this.playlistRefresh()}};V([p],L.prototype,"videos",void 0),V([p],L.prototype,"videoPlayer",void 0),V([(0,A.H)("updateNewPlaylist","newPlaylist")],L.prototype,"newPlaylist",void 0),V([p],L.prototype,"localEdits",void 0),V([v],L.prototype,"playlistAdd",void 0),V([v],L.prototype,"playlistUpdateLength",void 0),V([v],L.prototype,"playlistRemove",void 0),V([v],L.prototype,"playlistRefresh",void 0),V([(0,d.R)("videoPlayer",{immediate:!0})],L.prototype,"onVideoPlayerChange",null),L=V([(0,c.default)({components:{Draggable:B(),MediaCard:N}})],L);const M=L,U=(0,P.Z)(M,(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",[t(m.qW,[e._v("\n    Playlist\n  ")]),e._v(" "),t($,{directives:[{name:"show",rawName:"v-show",value:e.localEdits,expression:"localEdits"}],style:{"margin-top":"5px"},attrs:{type:"warning",dense:""}},[e._v("\n    Local changes have been made.\n  ")]),e._v(" "),e.newPlaylist.length?e._e():t("media-card",{style:{"font-style":"italic"}},[e._v("\n    Add videos using the list above.\n  ")]),e._v(" "),t("draggable",{model:{value:e.newPlaylist,callback:function(t){e.newPlaylist=t},expression:"newPlaylist"}},e._l(e.newPlaylist,(function({sum:r,length:o,commercial:n},i){return t("media-card",{key:`${r}_${i}`,staticClass:"d-flex align-center"},[t(h.Z,{style:{"max-width":"75px"},attrs:{value:o,type:"number","hide-details":"",outlined:"",dense:"",spellcheck:"false",autocomplete:"off",step:n?"30":"1",min:"0"},on:{input:function(t){return e.playlistUpdateLength({i,length:t})}}}),e._v(" "),t("div",{staticClass:"d-flex justify-center flex-grow-1",style:{overflow:"hidden","font-style":e.getName(r)?void 0:"italic"}},[r?[e._v("\n          "+e._s(e.getName(r)||"Could not find video name.")+"\n        ")]:n?[e._v("\n          Commercial w/o Video\n        ")]:[e._v("\n          Wait Block\n        ")]],2),e._v(" "),t(l.Z,{staticClass:"mr-1",on:{click:function(t){return e.playlistRemove(i)}}},[e._v("\n        mdi-delete\n      ")])],1)})),1),e._v(" "),t(s.Z,{staticClass:"mt-3",attrs:{block:""},on:{click:function(t){return e.playlistAdd({commercial:!0})}}},[e._v("\n    Add Commercial w/o Video to Playlist\n  ")]),e._v(" "),t(s.Z,{staticClass:"mt-3",attrs:{block:""},on:{click:function(t){return e.playlistAdd({commercial:!1})}}},[e._v("\n    Add Wait Block to Playlist\n  ")])],1)}),[],!1,null,null,null).exports;var W=function(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let F=class extends o.ZP{constructor(){super(...arguments),this.cfg=nodecg.bundleConfig}get name(){var e;return null===(e=this.videos.find((e=>e.sum===this.videoPlayer.current)))||void 0===e?void 0:e.name}emergencyStop(){nodecg.sendMessage("stopIntermissionPlayerEarly")}};W([p],F.prototype,"videos",void 0),W([p],F.prototype,"videoPlayer",void 0),F=W([c.default],F);const q=F,H=(0,P.Z)(q,(function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{directives:[{name:"show",rawName:"v-show",value:e.videoPlayer.playing,expression:"videoPlayer.playing"}],style:{"text-align":"center"}},[t("span",{staticClass:"font-weight-bold"},[e._v("Currently Playing:")]),e._v(" "),t("br"),e.name?t("span",[e._v(e._s(e.name))]):t("span",[e._v("Unknown (Usually Commercial w/o Video)")]),e._v(" "),t(s.Z,{staticClass:"mt-2",attrs:{color:"red",block:""},on:{click:e.emergencyStop}},[e._v("Emergency Stop")])],1)}),[],!1,null,null,null).exports;var G=function(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};let K=class extends o.ZP{};G([p],K.prototype,"disableSave",void 0),G([v],K.prototype,"playlistRefresh",void 0),G([f],K.prototype,"save",void 0),K=G([(0,c.default)({components:{AvailableVideos:w,Playlist:U,CurrentVideoInfo:H}})],K);const z=K,J=(0,P.Z)(z,(function(){var e=this,t=e._self._c;return e._self._setupProxy,t(i.Z,[t("available-videos"),e._v(" "),t("playlist",{style:{"margin-top":"20px"}}),e._v(" "),t("div",{staticClass:"d-flex",style:{"margin-top":"20px"}},[t(s.Z,{staticClass:"flex-grow-1",attrs:{loading:e.disableSave,disabled:e.disableSave},on:{click:function(t){return e.save()}}},[e._v("\n      Save\n    ")]),e._v(" "),t(a.Z,{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function({on:r}){return[t(s.Z,e._g({style:{"margin-left":"5px"},on:{click:function(t){return e.playlistRefresh()}}},r),[t(l.Z,[e._v("\n            mdi-refresh\n          ")])],1)]}}])},[e._v(" "),t("span",[e._v("Revert Local Changes")])])],1),e._v(" "),t("current-video-info",{style:{"margin-top":"10px"}})],1)}),[],!1,null,null,null).exports;var Q=r(8138),X=r.n(Q),Y=function(e,t,r,o){return new(r||(r=Promise))((function(n,i){function s(e){try{a(o.next(e))}catch(e){i(e)}}function l(e){try{a(o.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,l)}a((o=o.apply(e,t||[])).next())}))};let ee;o.ZP.use(u.ZP);const te={videoPlayer:nodecg.Replicant("videoPlayer"),videos:nodecg.Replicant("assets:videos")};function re(e){o.ZP.set(e.state,"localEdits",!0),window.clearTimeout(ee),ee=window.setTimeout((()=>{e.commit("playlistRefresh")}),3e4)}const oe=new u.ZP.Store({state:{disableSave:!1,localEdits:!1,newPlaylist:[]},mutations:{setState(e,{name:t,val:r}){o.ZP.set(e,t,r)},updateNewPlaylist(e,t){o.ZP.set(e,"newPlaylist",t),re(oe)},playlistAdd(e,{sum:t,commercial:r}){e.newPlaylist.push({sum:t,length:0,commercial:null==r||r}),re(oe)},playlistUpdateLength(e,{i:t,length:r}){e.newPlaylist[t].length=Number.isNaN(r)?0:Number(r)},playlistRemove(e,t){e.newPlaylist.splice(t,1),re(oe)},playlistRefresh(e){var t;o.ZP.set(e,"newPlaylist",X()((null===(t=te.videoPlayer.value)||void 0===t?void 0:t.playlist)||[])),o.ZP.set(e,"localEdits",!1)}},actions:{save({state:e}){return Y(this,void 0,void 0,(function*(){o.ZP.set(e,"disableSave",!0),void 0!==te.videoPlayer.value&&(te.videoPlayer.value.playlist=X()(e.newPlaylist)),yield new Promise((e=>{setTimeout(e,1e3)})),o.ZP.set(e,"disableSave",!1),window.clearTimeout(ee),o.ZP.set(e,"localEdits",!1)}))}}});Object.keys(te).forEach((e=>{te[e].on("change",(t=>{oe.commit("setState",{name:e,val:X()(t)})}))})),Y(void 0,void 0,void 0,(function*(){return yield NodeCG.waitForReplicants(...Object.keys(te).map((e=>te[e]))),oe})).then((e=>{new o.ZP({vuetify:n.Z,store:e,el:"#App",render:e=>e(J)})}))},779:(e,t,r)=>{"use strict";"undefined"!=typeof Reflect&&Reflect.getMetadata},5043:(e,t,r)=>{"use strict";const o=r(5925);t.H=function(e,t){return o.createDecorator(((r,o)=>{r.computed||(r.computed={}),r.computed[o]={get(){return"string"==typeof t?t?(e=t,r=this.$store.state,e.replace(/\[([^\]]+)]/g,".$1").split(".").reduce((function(e,t){return e[t]}),r)):this.$store.state[o]:t?t(this.$store.state):void 0;var e,r},set(t){this.$store.commit(e,t)}}}))}}},r={};function o(e){var n=r[e];if(void 0!==n)return n.exports;var i=r[e]={exports:{}};return t[e].call(i.exports,i,i.exports,o),i.exports}o.m=t,e=[],o.O=(t,r,n,i)=>{if(!r){var s=1/0;for(d=0;d<e.length;d++){for(var[r,n,i]=e[d],l=!0,a=0;a<r.length;a++)(!1&i||s>=i)&&Object.keys(o.O).every((e=>o.O[e](r[a])))?r.splice(a--,1):(l=!1,i<s&&(s=i));if(l){e.splice(d--,1);var c=n();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[r,n,i]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={159:0,713:0};o.O.j=t=>0===e[t];var t=(t,r)=>{var n,i,[s,l,a]=r,c=0;if(s.some((t=>0!==e[t]))){for(n in l)o.o(l,n)&&(o.m[n]=l[n]);if(a)var d=a(o)}for(t&&t(r);c<s.length;c++)i=s[c],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(d)},r=self.webpackChunk=self.webpackChunk||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var n=o.O(void 0,[965,62,40,713,48,177,465],(()=>o(6865)));n=o.O(n)})();