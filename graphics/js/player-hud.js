(()=>{"use strict";var e,t={918:(e,t,n)=>{var a=n(8138),o=n.n(a),r=n(829),i=n(5803),s=n(5925),c=n(8586),d=g("computed",c.rn),l=g("computed",c.Se),u=g("methods",c.nv),p=g("methods",c.OI);function g(e,t){function n(n,a){return(0,s.yh)((function(o,r){o[e]||(o[e]={});var i,s=((i={})[r]=n,i);o[e][r]=void 0!==a?t(a,s)[r]:t(s)[r]}))}return function(e,t){if("string"==typeof t){var a=t,o=e;return n(a,void 0)(o,a)}return n(e,function(e){var t=e&&e.namespace;if("string"==typeof t)return"/"!==t[t.length-1]?t+"/":t}(t))}}var v=n(4170),f=function(e,t,n,a){var o,r=arguments.length,i=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(r<3?o(i):r>3?o(t,n,i):o(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};const h=new r.SpeedcontrolUtilBrowser(nodecg),m={assetsReaderIntroductionImages:nodecg.Replicant("assets:reader-introduction-images"),bids:nodecg.Replicant("bids"),bigbuttonPlayerMap:nodecg.Replicant("bigbuttonPlayerMap"),commentators:nodecg.Replicant("commentators"),countdown:nodecg.Replicant("countdown"),currentRunDelay:nodecg.Replicant("currentRunDelay"),donationReader:nodecg.Replicant("donationReader"),donationsToRead:nodecg.Replicant("donationsToRead"),donationTotal:nodecg.Replicant("donationTotal"),donationTotalMilestones:nodecg.Replicant("donationTotalMilestones"),gameLayouts:nodecg.Replicant("gameLayouts"),obsData:nodecg.Replicant("obsData"),omnibar:nodecg.Replicant("omnibar"),otherStreamData:nodecg.Replicant("otherStreamData"),prizes:nodecg.Replicant("prizes"),readerIntroduction:nodecg.Replicant("readerIntroduction"),runDataActiveRun:h.runDataActiveRun,runDataActiveRunSurrounding:h.runDataActiveRunSurrounding,runDataArray:h.runDataArray,serverTimestamp:nodecg.Replicant("serverTimestamp"),streamDeckData:nodecg.Replicant("streamDeckData"),timer:h.timer,ttsVoices:nodecg.Replicant("ttsVoices"),upcomingRunID:nodecg.Replicant("upcomingRunID"),videoPlayer:nodecg.Replicant("videoPlayer")};let y,R=class extends v.g4{constructor(){super(...arguments),this.reps={}}get repsTyped(){return this.reps}setState({name:e,val:t}){i.Z.set(this.reps,e,o()(t))}setReplicant({name:e,val:t}){i.Z.set(this.reps,e,o()(t)),m[e].value=o()(t)}};f([v.mm],R.prototype,"setState",null),f([v.mm],R.prototype,"setReplicant",null),R=f([(0,v.Yl)({name:"ReplicantModule",namespaced:!0})],R);const b=function(e,t){function n(t){return function(n,a){if("string"==typeof a){var o=a,r=n;return t(o,{namespace:e})(r,o)}var i=n,s=function(e,t){var n={};return[e,t].forEach((function(e){Object.keys(e).forEach((function(t){n[t]=e[t]}))})),n}(a||{},{namespace:e});return t(i,s)}}return{State:n(d),Getter:n(l),Mutation:n(p),Action:n(u)}}("ReplicantModule");n(4807),n(7023),n(5654),n(779),n(8793);var D=function(e,t,n,a){var o,r=arguments.length,i=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(r<3?o(i):r>3?o(t,n,i):o(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};let w=class extends i.Z{constructor(){super(...arguments),this.donationsToRead=[],this.tagScanned=!1,this.scannedData=null}onDonationsToReadChanged(e){e.length?window.setTimeout((()=>{this.donationsToRead=o()(e)}),3e4):this.donationsToRead.length=0}created(){this.donationsToRead=o()(this.donationsToReadR)}get largestDonation(){return`$${this.donationsToRead.reduce(((e,t)=>e>t.amount?e:t.amount),0).toFixed(2)}`}get tagDisplayName(){return this.scannedData?this.scannedData.raw.pronouns?`${this.scannedData.user.displayName} (${this.scannedData.raw.pronouns})`:this.scannedData.user.displayName:""}get buttonId(){var e;return(null===(e=this.scannedData)||void 0===e?void 0:e.flagcarrier.id)||""}get alertClass(){if(this.tagScanned)switch(this.tagScanned){case"success_comm":case"success_player":return"TagSuccess";case"fail_player":return"TagFail";default:return"TagNothing"}return"message"===this.streamDeckData.playerHUDTriggerType?"MessageToRead":this.donationsToRead.length?"DonationsToRead":""}mounted(){nodecg.listenFor("bigbuttonTagScanned",(({state:e,data:t})=>{window.clearTimeout(this.tagScanTimeout),this.tagScanned=e||!0,this.scannedData=t,this.tagScanTimeout=window.setTimeout((()=>{this.tagScanned=!1,this.scannedData=null}),7e3)}))}};D([b.State((e=>e.reps.timer))],w.prototype,"timer",void 0),D([b.State((e=>e.reps.donationsToRead))],w.prototype,"donationsToReadR",void 0),D([b.State((e=>e.reps.streamDeckData))],w.prototype,"streamDeckData",void 0),D([function(e,t){void 0===t&&(t={});var n=t.deep,a=void 0!==n&&n,o=t.immediate,r=void 0!==o&&o;return(0,s.yh)((function(t,n){"object"!=typeof t.watch&&(t.watch=Object.create(null));var o=t.watch;"object"!=typeof o[e]||Array.isArray(o[e])?void 0===o[e]&&(o[e]=[]):o[e]=[o[e]],o[e].push({handler:n,deep:a,immediate:r})}))}("donationsToReadR")],w.prototype,"onDonationsToReadChanged",null),w=D([s.ZP],w);const _=w,T=(0,n(5440).Z)(_,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"Flex",style:{"flex-direction":"column",width:"100vw",height:"100vh"}},[n("div",{class:"PlayerHUD Flex "+e.alertClass,style:{width:"100%","flex-grow":1,"flex-direction":"column","box-sizing":"border-box",padding:"0 5vw",transition:"background-color 1s","text-align":"center","font-size":"15vh"}},[e.tagScanned?["success_comm"===e.tagScanned?[n("div",[e._v("✔")]),e._v(" "),n("div",[n("span",{style:{"font-weight":600}},[e._v(e._s(e.tagDisplayName))]),e._v("\n          scanned in as commentator\n        ")])]:"success_player"===e.tagScanned?[n("div",[e._v("✔")]),e._v(" "),n("div",[n("span",{style:{"font-weight":600}},[e._v(e._s(e.tagDisplayName))]),e._v("\n          scanned in as player on\n          "),n("span",{style:{"white-space":"nowrap"}},[e._v("button "+e._s(e.buttonId)+"!")])])]:"fail_player"===e.tagScanned?[n("div",[e._v("❌")]),e._v(" "),n("div",[n("span",{style:{"font-weight":600}},[e._v(e._s(e.tagDisplayName))]),e._v("\n          cannot scan in as player on\n          "),n("span",{style:{"white-space":"nowrap"}},[e._v("button "+e._s(e.buttonId)+"!")])])]:[n("div",[e._v("❔")]),e._v(" "),n("div",[e._v("Tag was scanned but not needed")])]]:"message"===e.streamDeckData.playerHUDTriggerType?[e._v("\n      Any time\n      "),n("br"),e._v("for messages?\n    ")]:e.donationsToRead.length?[e._v("\n      Donations Pending:\n      "),n("br"),e._v(e._s(e.donationsToRead.length)+"\n      "),n("br"),e._v("Largest Unread Donation: "+e._s(e.largestDonation)+"\n    ")]:[e._v("\n      Nothing currently\n      "),n("br"),e._v("to be read\n    ")]],2),e._v(" "),n("div",{style:{background:"black",color:"white",width:"100%","text-align":"center","font-size":"15vh","padding-bottom":"2vh"}},[e._v("\n    "+e._s(e.timer.time)+"\n  ")])])}),[],!1,null,null,null).exports;i.Z.use(c.ZP);let O=class extends v.g4{get reps(){return this.context.rootState.ReplicantModule.reps}};O=function(e,t,n,a){var o,r=arguments.length,i=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(r<3?o(i):r>3?o(t,n,i):o(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i}([(0,v.Yl)({name:"OurModule"})],O);const S=new c.yh({strict:!1,state:{},modules:{ReplicantModule:R,OurModule:O}}),x=S;(0,v.rT)(O,S),function(e){return t=this,n=void 0,o=function*(){Object.keys(m).forEach((t=>{m[t].on("change",(n=>{e.commit("ReplicantModule/setState",{name:t,val:n})}))})),yield NodeCG.waitForReplicants(...Object.keys(m).map((e=>m[e]))),y=(0,v.rT)(R,e)},new((a=void 0)||(a=Promise))((function(e,r){function i(e){try{c(o.next(e))}catch(e){r(e)}}function s(e){try{c(o.throw(e))}catch(e){r(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(i,s)}c((o=o.apply(t,n||[])).next())}));var t,n,a,o}(x).then((()=>{new i.Z({store:x,el:"#App",render:e=>e(T)})}))},779:(e,t,n)=>{"undefined"!=typeof Reflect&&Reflect.getMetadata}},n={};function a(e){var o=n[e];if(void 0!==o)return o.exports;var r=n[e]={exports:{}};return t[e].call(r.exports,r,r.exports,a),r.exports}a.m=t,e=[],a.O=(t,n,o,r)=>{if(!n){var i=1/0;for(l=0;l<e.length;l++){for(var[n,o,r]=e[l],s=!0,c=0;c<n.length;c++)(!1&r||i>=r)&&Object.keys(a.O).every((e=>a.O[e](n[c])))?n.splice(c--,1):(s=!1,r<i&&(i=r));if(s){e.splice(l--,1);var d=o();void 0!==d&&(t=d)}}return t}r=r||0;for(var l=e.length;l>0&&e[l-1][2]>r;l--)e[l]=e[l-1];e[l]=[n,o,r]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={823:0,103:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var o,r,[i,s,c]=n,d=0;if(i.some((t=>0!==e[t]))){for(o in s)a.o(s,o)&&(a.m[o]=s[o]);if(c)var l=c(a)}for(t&&t(n);d<i.length;d++)r=i[d],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(l)},n=self.webpackChunk=self.webpackChunk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var o=a.O(void 0,[835,103,797],(()=>a(918)));o=a.O(o)})();